import{N as V,y as I,O as L,Q as E,R as Y,T as k,V as H,W as T,X as m,Y as S,Z as M,i as y,_ as $,$ as P,a0 as W,a1 as j,a2 as q,a3 as B,d as C,p as Q,h as b,v as X,j as Z,a4 as z}from"./runtime.BXdHovJx.js";import{b as F}from"./disclose-version.KGPiFYk8.js";const A=new Set,R=new Set;function rr(a){for(var r=0;r<a.length;r++)A.add(a[r]);for(var s of R)s(a)}function v(a){var O;var r=this,s=r.ownerDocument,l=a.type,i=((O=a.composedPath)==null?void 0:O.call(a))||[],t=i[0]||a.target,d=0,c=a.__root;if(c){var f=i.indexOf(c);if(f!==-1&&(r===document||r===window)){a.__root=r;return}var u=i.indexOf(r);if(u===-1)return;f<=u&&(d=f)}if(t=i[d]||a.target,t!==r){V(a,"currentTarget",{configurable:!0,get(){return t||s}});try{for(var _,e=[];t!==null;){var o=t.parentNode||t.host||null;try{var n=t["__"+l];if(n!==void 0&&!t.disabled)if(I(n)){var[g,...p]=n;g.apply(t,[a,...p])}else n.call(t,a)}catch(w){_?e.push(w):_=w}if(a.cancelBubble||o===r||o===null)break;t=o}if(_){for(let w of e)queueMicrotask(()=>{throw w});throw _}}finally{a.__root=r,t=r}}}const G=["wheel","mousewheel","touchstart","touchmove"];function J(a){return G.includes(a)}function ar(a,r){r!==(a.__t??(a.__t=a.nodeValue))&&(a.__t=r,a.nodeValue=r==null?"":r+"")}function K(a,r){const s=r.anchor??r.target.appendChild(L());return D(a,{...r,anchor:s})}function tr(a,r){E(),r.intro=r.intro??!1;const s=r.target,l=b,i=y;try{for(var t=Y(s);t&&(t.nodeType!==8||t.data!==k);)t=H(t);if(!t)throw T;m(!0),S(t),M();const d=D(a,{...r,anchor:t});if(y===null||y.nodeType!==8||y.data!==$)throw P(),T;return m(!1),d}catch(d){if(d===T)return r.recover===!1&&W(),E(),j(s),m(!1),K(a,r);throw d}finally{m(l),S(i)}}const h=new Map;function D(a,{target:r,anchor:s,props:l={},events:i,context:t,intro:d=!0}){E();var c=new Set,f=e=>{for(var o=0;o<e.length;o++){var n=e[o];if(!c.has(n)){c.add(n);var g=J(n);r.addEventListener(n,v,{passive:g});var p=h.get(n);p===void 0?(document.addEventListener(n,v,{passive:g}),h.set(n,1)):h.set(n,p+1)}}};f(q(A)),R.add(f);var u=void 0,_=B(()=>(C(()=>{if(t){Q({});var e=z;e.c=t}i&&(l.$$events=i),b&&F(s,null),u=a(s,l)||{},b&&(X.nodes_end=y),t&&Z()}),()=>{for(var e of c){r.removeEventListener(e,v);var o=h.get(e);--o===0?(document.removeEventListener(e,v),h.delete(e)):h.set(e,o)}R.delete(f),N.delete(u)}));return N.set(u,_),u}let N=new WeakMap;function er(a){const r=N.get(a);r==null||r()}export{rr as d,tr as h,K as m,ar as s,er as u};
